{"version":3,"names":[],"mappings":"","sources":["index.js"],"sourcesContent":["require('./traceur-runtime');\n\nimport fs from 'fs';\nimport util from 'util';\n\nimport _ from 'lodash';\n\nimport orderTables from './transformers/orderTables';\nimport toPostgreSQL from './transformers/postgreSQL/toPostgreSQL';\n\nimport {loadGrammarWithSemantics, runFromFile} from './ohmLoader';\n\nimport parseArgs from 'minimist';\n\nconst args = parseArgs(process.argv);\nconsole.log({args});\n\nconst {grammar, semantics} = loadGrammarWithSemantics('RM_PGSQL', ['toObject'], './grammar/RM.ohm');\n\nlet i = 2;\nif (process.argv[0].endsWith('relational_modeler')) i = 1;\n\nconsole.log(process.argv);\n\nconst model = runFromFile(process.argv[i], grammar, semantics, 'toObject');\n\n// log(util.inspect(model, false, null));\n\nlog(toPostgreSQL(orderTables(model)).join('\\n'));\n\nfunction log(...args) {\n  console.log.apply(console, args.map(transformArg));\n\n  function transformArg(arg) {\n    switch (typeof arg) {\n      case 'object': return util.inspect(arg, {showHidden: true, depth: null});\n      default: return arg;\n    }\n  }\n}"],"file":"index.js","sourceRoot":"/source/"}